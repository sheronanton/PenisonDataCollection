"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[275],{27275:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var s=n(65043),r=n(79456),a=n(52879),i=n.n(a),l=n(81366),d=n(74319),c=n(72450),o=n(69223),h=n.n(o),x=n(70579);const p=()=>{const[e,t]=s.useState([{}]),[n,a]=s.useState([{}]),[o,p]=((0,r.d4)((e=>e.twad.office.officeId)),s.useState("N")),[m,u]=s.useState(""),[b,f]=s.useState("");(0,s.useEffect)((()=>{(async()=>{try{const e=await l.A.callEndPoint(i().GetAadhaarStatusAbstractAllOffices,{});t(e)}catch(e){console.error("Error fetching data:",e)}})()}),[]);const _=async(e,t,n,s)=>{p("Y"),u(s),f(n);try{const s=await l.A.callEndPoint(i().GetAadhaarStatusDetailed,{paymentOfficeId:e,pensionerTypeId:t,status:n});a(s)}catch(r){console.error("Error fetching data:",r)}};return(0,x.jsxs)("div",{children:[(0,x.jsx)("h5",{className:"bg-primary text-white text-center p-1 rounded",children:"STATUS REPORT"}),(0,x.jsx)("div",{className:"text-end text-md-end mb-2",children:(0,x.jsx)("button",{className:"btn btn-success mb-2",onClick:()=>async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Aadhaar_Status_Report";const n=new(h().Workbook),s=n.addWorksheet("Report"),r=e.map(((e,t)=>{const n=Number(e.pensioners_updated||0)+Number(e.family_pensioners_updated||0),s=Number(e.pensioners_not_updated||0)+Number(e.family_pensioners_not_updated||0);return[t+1,e.payment_office_name,Number(e.pensioners_updated||0),Number(e.pensioners_not_updated||0),Number(e.family_pensioners_updated||0),Number(e.family_pensioners_not_updated||0),n,s]})),a=["","Total",r.reduce(((e,t)=>e+t[2]),0),r.reduce(((e,t)=>e+t[3]),0),r.reduce(((e,t)=>e+t[4]),0),r.reduce(((e,t)=>e+t[5]),0),r.reduce(((e,t)=>e+t[6]),0),r.reduce(((e,t)=>e+t[7]),0)],i=[["S.No","Payment Office","Pensioners","","Family Pensioners","","Total",""],["","","Updated","Not Updated","Updated","Not Updated","Updated","Not Updated"],...r,a];i.forEach((e=>s.addRow(e))),s.mergeCells("A1:A2"),s.mergeCells("B1:B2"),s.mergeCells("C1:D1"),s.mergeCells("E1:F1"),s.mergeCells("G1:H1");const l=i.length;s.eachRow(((e,t)=>{e.eachCell((e=>{e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},e.alignment={vertical:"middle",horizontal:"center"},(t<=2||t===l)&&(e.font={bold:!0})}))})),s.columns.forEach((e=>{let t=10;e.eachCell({includeEmpty:!0},(e=>{const n=e.value?e.value.toString():"";t=Math.max(t,n.length+2)})),e.width=t})),s.views=[{state:"frozen",ySplit:2}];const d=await n.xlsx.writeBuffer();(0,c.saveAs)(new Blob([d]),"".concat(t,".xlsx"))}(e),children:"Download Excel"})}),"N"===o?(0,x.jsxs)(x.Fragment,{children:[" ",(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-bordered table-striped rounded",children:[(0,x.jsxs)("thead",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"bg-info text-white",rowSpan:"2",children:"S.No"}),(0,x.jsx)("th",{className:"bg-info text-white",rowSpan:"2",style:{textAlign:"center"},children:"Payment Office"}),(0,x.jsx)("th",{className:"bg-info text-white",colSpan:"2",style:{textAlign:"center"},children:"Pensioners"}),(0,x.jsx)("th",{className:"bg-info text-white",colSpan:"2",style:{textAlign:"center"},children:"Family Pensioners"}),(0,x.jsx)("th",{className:"bg-info text-white",colSpan:"2",style:{textAlign:"center"},children:"Total"})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"bg-info text-white",children:"Updated"}),(0,x.jsx)("th",{className:"bg-info text-white",children:"Not Updated"}),(0,x.jsx)("th",{className:"bg-info text-white",children:"Updated"}),(0,x.jsx)("th",{className:"bg-info text-white",children:"Not Updated"}),(0,x.jsx)("th",{className:"bg-info text-white",children:"Updated"}),(0,x.jsx)("th",{className:"bg-info text-white",children:"Not Updated"})]})]}),(0,x.jsxs)("tbody",{children:[e.map(((e,t)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:t+1}),(0,x.jsx)("td",{children:e.payment_office_name}),(0,x.jsx)("td",{style:{textAlign:"center",cursor:"pointer"},onClick:()=>{_(e.payment_office_id,"P","UPDATED","Pensioner")},children:e.pensioners_updated}),(0,x.jsx)("td",{style:{textAlign:"center",cursor:"pointer"},onClick:()=>{_(e.payment_office_id,"P","NOT_UPDATED","Pensioner")},children:e.pensioners_not_updated}),(0,x.jsx)("td",{style:{textAlign:"center",cursor:"pointer"},onClick:()=>{_(e.payment_office_id,"F","UPDATED","Family Pensioner")},children:e.family_pensioners_updated}),(0,x.jsx)("td",{style:{textAlign:"center",cursor:"pointer"},onClick:()=>{_(e.payment_office_id,"F","NOT_UPDATED","Family Pensioner")},children:e.family_pensioners_not_updated}),(0,x.jsx)("td",{style:{textAlign:"center"},children:e.updated}),(0,x.jsx)("td",{style:{textAlign:"center"},children:e.not_updated})]},t))),(0,x.jsxs)("tr",{style:{fontWeight:"bold",backgroundColor:"#f0f0f0"},children:[(0,x.jsx)("td",{colSpan:2,style:{textAlign:"center"},children:"Total"}),(0,x.jsx)("td",{style:{textAlign:"center"},children:e.reduce(((e,t)=>e+Number(t.pensioners_updated||0)),0)}),(0,x.jsx)("td",{style:{textAlign:"center"},children:e.reduce(((e,t)=>e+Number(t.pensioners_not_updated||0)),0)}),(0,x.jsx)("td",{style:{textAlign:"center"},children:e.reduce(((e,t)=>e+Number(t.family_pensioners_updated||0)),0)}),(0,x.jsx)("td",{style:{textAlign:"center"},children:e.reduce(((e,t)=>e+Number(t.family_pensioners_not_updated||0)),0)}),(0,x.jsx)("td",{style:{textAlign:"center"},children:e.reduce(((e,t)=>e+Number(t.updated||0)),0)}),(0,x.jsx)("td",{style:{textAlign:"center"},children:e.reduce(((e,t)=>e+Number(t.not_updated||0)),0)})]})]})]})})]}):(0,x.jsx)(x.Fragment,{children:n.length>0?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{className:"btn btn-primary text-white mb-2",onClick:()=>{p("N")},children:"Back"}),(0,x.jsx)(d.A,{data:n,fileName:"report"}),(0,x.jsx)("div",{className:"text-center",children:(0,x.jsxs)("span",{className:"text-info",children:[m," - ",b]})}),(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-bordered table-striped rounded",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"bg-info text-white",children:"S.No"}),(0,x.jsx)("th",{className:"bg-info text-white",children:"PPO No"}),(0,x.jsx)("th",{className:"bg-info text-white",children:"Name"}),(0,x.jsx)("th",{className:"bg-info text-white",children:"Original Aadhaar No"}),(0,x.jsx)("th",{className:"bg-info text-white",children:"Current Aadhaar No"})]})}),(0,x.jsx)("tbody",{children:n.map(((e,t)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:t+1}),(0,x.jsx)("td",{children:e.ppo_no}),(0,x.jsx)("td",{children:e.name}),(0,x.jsx)("td",{children:e.original_aadhaar_no}),(0,x.jsx)("td",{children:e.current_aadhaar_no})]},t)))})]})})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:"text-info",children:"No data Found"})," ",(0,x.jsx)("br",{}),(0,x.jsx)("button",{className:"btn btn-primary text-white mb-2",onClick:()=>{p("N")},children:"Back"})]})})]})}},74319:(e,t,n)=>{n.d(t,{A:()=>l});n(65043);var s=n(72450),r=n(11238),a=n(93946),i=n(70579);const l=e=>{let{data:t,fileName:n}=e;return(0,i.jsx)(a.Q_,{onClick:()=>{const e=r.Wp.json_to_sheet(t),a=r.Wp.book_new();r.Wp.book_append_sheet(a,e,"Sheet1");const i=r.M9(a,{bookType:"xlsx",type:"array"}),l=new Blob([i],{type:"application/octet-stream"});(0,s.saveAs)(l,"".concat(n,".xlsx"))},color:"warning",className:"rounded m-2",children:"Export to Excel"})}}}]);
//# sourceMappingURL=275.71568859.chunk.js.map