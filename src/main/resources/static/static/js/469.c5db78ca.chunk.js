"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[469,319],{75469:(e,n,s)=>{s.r(n),s.d(n,{default:()=>o});var t=s(65043),d=s(93946),r=s(52879),i=s.n(r),a=s(81366),l=s(79456),m=s(74319),c=(s(44650),s(70579));const o=()=>{const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)(!1),[o,h]=(0,t.useState)({}),[p,x]=(0,t.useState)(!1),[j,u]=(0,t.useState)({}),[A,F]=(0,t.useState)(0),[g,b]=(0,t.useState)(0),[y,f]=(0,t.useState)(""),[N,v]=(0,t.useState)(" ");let[C,P]=(0,t.useState)({});const[S,L]=(0,t.useState)(),[O,D]=(0,t.useState)(),[G,k]=(0,t.useState)([]),[U,I]=(0,t.useState)("P"),[_,K]=(0,t.useState)(!1),[E,w]=(0,t.useState)(""),[q,T]=(0,t.useState)({}),$=(0,l.d4)((e=>e.twad.office.officeId));function R(e){u({}),r(!0);const n=G.find((n=>n.ppoNo===e));h(n),r(!0),console.log(n),K(!1)}const Q=e=>{const{name:n,value:s}=e.target;h((e=>({...e,[n]:s})))};function B(e){I(e),T({});let s=i().getApiData;const t={officeId:$,pensionerType:e};a.A.callEndPoint(s,t).then((e=>{k(e),n(e)}))}return(0,c.jsxs)("div",{className:"ms-3",children:[(0,c.jsx)(d.sK,{children:(0,c.jsxs)(d.$l,{role:"group","aria-label":"Basic checkbox toggle button group",children:[(0,c.jsx)(d.CK,{type:"radio",id:"Pensioner",name:"options",onClick:()=>{B("P")},button:{color:"primary",variant:"outline"},autoComplete:"off",label:"Pensioner"}),(0,c.jsx)(d.CK,{type:"radio",id:"FamilyPensioner",name:"options",button:{color:"primary",variant:"outline"},autoComplete:"off",onClick:()=>{B("FP")},label:"Family Pensioner"}),(0,c.jsx)(d.UF,{md:8,children:"FP"===U?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(m.default,{data:G,fileName:"FamilyPensioner"})}):(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(m.default,{data:G,fileName:"Pensioner"})})})]})}),(0,c.jsxs)(d.sK,{children:[(0,c.jsx)(d.UF,{md:4,children:(0,c.jsx)(d.OG,{className:"m-2",type:"number",id:"ppoSearch",name:"contactCell",placeholder:"SEARCH BY PPO",onChange:e=>{w(e.target.value)}})}),(0,c.jsx)(d.UF,{md:4,children:(0,c.jsx)(d.Q_,{className:"m-2",onClick:()=>{!function(e){const n=G.find((n=>n.ppoNo===Number(e)));console.log(n),void 0!==n&&null!==n&&T(n)}(E)},children:"Search"})})]}),(0,c.jsx)(d.sK,{children:(0,c.jsx)(d.UF,{md:12,children:(0,c.jsx)(d.V0,{children:"FP"===U?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("h5",{className:"text-center font-weight-bold",children:"FAMILY PENSIONER DATA"})}):(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("h5",{className:"text-center font-weight-bold",children:"PENSION DATA"})})})})}),(0,c.jsxs)(d._v,{hover:!0,children:[(0,c.jsx)(d.wV,{children:(0,c.jsxs)(d.YI,{children:[(0,c.jsx)(d.$s,{scope:"col",children:"Office ID"}),(0,c.jsx)(d.$s,{scope:"col",children:"PPO NO"}),"P"===U?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.$s,{scope:"col",children:"Pensioner Name"})}):(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.$s,{scope:"col",children:"Family Pensioner Name"})}),(0,c.jsx)(d.$s,{scope:"col",children:"Mobile No"}),(0,c.jsx)(d.$s,{scope:"col",children:"AADHAAR No"}),(0,c.jsx)(d.$s,{scope:"col",children:"Actions"})]})}),(0,c.jsx)(d.jS,{children:0===Object.keys(q).length?(0,c.jsx)(c.Fragment,{children:G.map(((e,n)=>(0,c.jsxs)(d.YI,{children:[(0,c.jsx)(d.cC,{children:e.officeId}),(0,c.jsx)(d.cC,{children:e.ppoNo}),(0,c.jsx)(d.cC,{children:e.pensionerName}),(0,c.jsx)(d.cC,{children:e.contactCell}),(0,c.jsx)(d.cC,{children:e.aadharNumber}),(0,c.jsx)(d.cC,{children:(0,c.jsx)(d.Q_,{color:"primary",onClick:()=>{R(e.ppoNo)},children:"Edit"})})]},n)))}):(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(d.YI,{children:[(0,c.jsx)(d.cC,{children:q.officeId}),(0,c.jsx)(d.cC,{children:q.ppoNo}),(0,c.jsx)(d.cC,{children:q.pensionerName}),(0,c.jsx)(d.cC,{children:q.contactCell}),(0,c.jsx)(d.cC,{children:q.aadharNumber}),(0,c.jsx)(d.cC,{children:(0,c.jsx)(d.Q_,{color:"primary",onClick:()=>{R(q.ppoNo)},children:"Edit"})})]})})})]}),(0,c.jsxs)(d.zS,{backdrop:"static",visible:s,onClose:()=>r(!1),size:"xl",children:[(0,c.jsx)(d.E4,{children:"P"===U?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.lb,{className:"text-center w-100",children:(0,c.jsx)("strong",{children:"Edit Pensioner Details"})})}):(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.lb,{className:"text-center w-100",children:(0,c.jsx)("strong",{children:"Edit Family Pensioner Details"})})})}),(0,c.jsxs)(d.Tc,{children:[(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"ppoNo",children:"PPO No"}),(0,c.jsx)(d.OG,{type:"text",id:"ppoNo",value:o.ppoNo,disabled:!0})]}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"pType",children:"Pension Type"}),(0,c.jsx)(d.OG,{type:"text",id:"pType",value:o.pensionerType,disabled:!0})]}),"FP"===U?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.lb,{className:"text-center mt-1 w-100",children:(0,c.jsx)("strong",{children:"Family Pensioner Details"})})}):(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.lb,{className:"text-center mt-1 w-100",children:(0,c.jsx)("strong",{children:"Pensioner Details"})})})})]}),(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:10,children:[(0,c.jsx)(d.A6,{htmlFor:"empName",children:"Pensioner Name"}),(0,c.jsx)(d.OG,{type:"text",id:"empName",value:o.pensionerName,disabled:!0})]}),(0,c.jsxs)(d.UF,{md:2,children:[(0,c.jsx)(d.A6,{htmlFor:"empInital",children:"Initial"}),(0,c.jsx)(d.OG,{type:"text",id:"empInital",value:o.pensionerInitial,disabled:!0})]})]}),"P"===U?(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"gender",children:"Gender"}),(0,c.jsx)(d.OG,{type:"text",id:"Gender",value:o.gender,disabled:!0})]}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"dor",children:"Date of Retirement "}),(0,c.jsx)(d.OG,{type:"date",id:"dor",name:"dateOfRetirement",value:o.dateOfRetirement,onChange:Q,disabled:!0})]})]})}):(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"gender",children:"Gender"}),(0,c.jsx)(d.OG,{type:"text",id:"Gender",value:o.gender,disabled:!0})]}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"relation",children:"Relation"}),(0,c.jsx)(d.OG,{type:"text",id:"relation",value:o.relation,disabled:!0})]})]})}),(0,c.jsx)(d.sK,{children:"P"===U?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"grossPay",children:"Gross Pension"}),(0,c.jsx)(d.OG,{type:"text",id:"grossPay",value:o.grossPay,disabled:!0})]}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"netPay",children:"Net Pension"}),(0,c.jsx)(d.OG,{type:"text",id:"netPay",value:o.netPay,disabled:!0})]})]}):(0,c.jsx)(c.Fragment,{})}),(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"dob",children:"Date of Birth"}),(0,c.jsx)(d.OG,{type:"date",id:"dob",value:o.dateOfBirth,disabled:!0})]}),"P"===U?(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"empID",children:"Employee Id"}),(0,c.jsx)(d.OG,{type:"text",id:"empID",name:"employeeId",value:o.employeeId,onChange:Q})]})}):(0,c.jsx)(c.Fragment,{})]}),(0,c.jsx)(d.sK,{children:"FP"===U?(0,c.jsxs)(c.Fragment,{children:[" ",(0,c.jsx)(d.lb,{className:"text-center w-100",children:(0,c.jsx)("strong",{children:"Employee Details"})})]}):(0,c.jsx)(c.Fragment,{})}),"FP"===U?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"empID",children:"Employee Id"}),(0,c.jsx)(d.OG,{type:"text",id:"empID",name:"employeeId",value:o.employeeId,onChange:Q})]}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"empName",children:"Employee Name"}),(0,c.jsx)(d.OG,{type:"text",id:"empName",name:"employeeName",value:o.employeeName,onChange:Q,invalid:!!j.employeeName,feedback:j.employeeName})]})]})," "]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.sK,{})," "]}),(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"designation",children:"Designation"}),(0,c.jsx)(d.OG,{type:"text",id:"designation",name:"designation",value:o.designation,onChange:Q,invalid:!!j.designation,feedback:j.designation})]}),(0,c.jsx)(d.UF,{md:6,children:"FP"===U?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.A6,{htmlFor:"dateOfDeath",children:"Date of Death"}),(0,c.jsx)(d.OG,{type:"date",id:"dateOfDeath",name:"dateOfDeath",value:o.dateOfDeath,onChange:Q})]}):(0,c.jsx)(c.Fragment,{})})]}),(0,c.jsxs)(d.sK,{children:["FP"===U?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.lb,{className:"text-center mt-1 w-100",children:(0,c.jsx)("strong",{children:"Family Pensioner Details"})})}):(0,c.jsx)(c.Fragment,{}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"panno",children:"PAN NO"}),(0,c.jsx)(d.OG,{type:"text",id:"panno",name:"panNumber",placeholder:p?"":"Valid Pan Num",value:o.panNumber,onChange:Q,invalid:!!j.panNo,feedback:j.panNo})]}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"aadhaarno",children:"AADHAAR NO"}),(0,c.jsx)(d.OG,{type:"text",maxLength:"12",id:"aadhaarno",name:"aadharNumber",value:o.aadharNumber,onChange:Q,invalid:!!j.aadhaarno,feedback:j.aadhaarno})]})]}),(0,c.jsx)(d.A6,{htmlFor:"mobileNo",children:"Mobile No"}),(0,c.jsx)(d.OG,{type:"text",id:"mobileNo",name:"contactCell",value:o.contactCell,onChange:Q,required:!0,invalid:!!j.phoneno,feedback:j.phoneno}),(0,c.jsx)(d.A6,{htmlFor:"email",children:"Email"}),(0,c.jsx)(d.OG,{type:"email",id:"email",name:"emailId",value:o.emailId,onChange:Q,required:!0}),(0,c.jsx)(d.A6,{className:"text-center w-100 large-label className='fw-bold' ",htmlFor:"input1",children:(0,c.jsx)("strong",{children:" Temporary Address"})}),(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"tempAddressLine1",children:"Address 1"}),(0,c.jsx)(d.OG,{type:"text",id:"tempAddressLine1",name:"tempAddressLine1",value:o.tempAddressLine1,onChange:Q,invalid:!!j.tempAddressLine1,feedback:j.tempAddressLine1,required:!0})]}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"tempAddressLine2",children:"Address 2"}),(0,c.jsx)(d.OG,{type:"text",id:"tempAddressLine2",name:"tempAddressLine2",value:o.tempAddressLine2,onChange:Q,required:!0,invalid:!!j.tempAddressLine2,feedback:j.tempAddressLine2})]})]}),(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"tempAddressLine3",children:"Address 3"}),(0,c.jsx)(d.OG,{type:"text",id:"tempAddressLine3",name:"tempAddressLine3",value:o.tempAddressLine3,onChange:Q,invalid:!!j.tempAddressLine3,feedback:j.tempAddressLine3,required:!0})]}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"tempPincode",children:"Postal Code"}),(0,c.jsx)(d.OG,{type:"number",id:"tempPincode",name:"tempPincode",value:o.tempPinCode,onChange:Q,invalid:!!j.tempPin,feedback:j.tempPin,required:!0})]})]}),(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"tempDistrict",children:"District"}),(0,c.jsx)(d.OG,{type:"text",id:"tempDistrict",name:"tempDistrict",onChange:Q,value:o.tempDistrict,invalid:!!j.tempDistrict,feedback:j.tempDistrict,required:!0})]}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"tempState",children:"State"}),(0,c.jsx)(d.OG,{type:"text",id:"tempState",name:"tempState",onChange:Q,value:o.tempState,invalid:!!j.tempState,feedback:j.tempState,required:!0})]})]}),(0,c.jsx)(d.A6,{className:"text-center w-100 large-label className='fw-bold' ",htmlFor:"input1",children:(0,c.jsx)("strong",{children:" Permanent Address"})}),(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"permanentAddressLine1",children:"Address 1"}),(0,c.jsx)(d.OG,{type:"text",id:"permanentAddressLine1",name:"permanentAddressLine1",value:o.permanentAddressLine1,onChange:Q,invalid:!!j.permanentAddressLine1,feedback:j.permanentAddressLine1})]}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"permanentAddressLine2",children:"Address 2"}),(0,c.jsx)(d.OG,{type:"text",id:"permanentAddressLine2",name:"permanentAddressLine2",value:o.permanentAddressLine2,onChange:Q,required:!0,invalid:!!j.permanentAddressLine2,feedback:j.permanentAddressLine2})]})]}),(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"permanentAddressLine3",children:"Address 3"}),(0,c.jsx)(d.OG,{type:"text",id:"permanentAddressLine3",name:"permanentAddressLine3",value:o.permanentAddressLine3,onChange:Q,required:!0,invalid:!!j.permanentAddressLine3,feedback:j.permanentAddressLine3})]}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"permanentPincode",children:"Postal Code"}),(0,c.jsx)(d.OG,{type:"number",id:"permanentPincode",name:"permanentPincode",value:o.permanentPinCode,onChange:Q,required:!0})]})]}),(0,c.jsxs)(d.sK,{children:[(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"permanentDistrict",children:"District"}),(0,c.jsx)(d.OG,{type:"text",id:"permanentDistrict",name:"permanentDistrict",value:o.permanentDistrict,onChange:Q,required:!0,invalid:!!j.permanentDistrict,feedback:j.permanentDistrict})]}),(0,c.jsxs)(d.UF,{md:6,children:[(0,c.jsx)(d.A6,{htmlFor:"permanentState",children:"State"}),(0,c.jsx)(d.OG,{type:"text",id:"permanentState",name:"permanentState",value:o.permanentState,onChange:Q,invalid:!!j.permanentState,feedback:j.permanentState,required:!0})]})]})]}),(0,c.jsxs)(d.If,{children:[(0,c.jsx)(d.Q_,{color:"secondary",onClick:()=>r(!1),children:"Cancel"}),(0,c.jsx)(d.Q_,{color:"primary",onClick:e=>{if(console.log(j),(()=>{const e={};return/^[0-9]{10}$/.test(o.contactCell)||(e.phoneno="Mobile number must be 10 digits."),/^[0-9]{12}$/.test(o.aadharNumber)||(e.aadhaarno="Aadhaar number must be 12 digits."),o.tempDistrict&&o.tempDistrict.trim()||(e.tempDistrict="Should be filled"),o.designation&&o.designation.trim()||(e.designation="Should be filled"),o.tempAddressLine1&&o.tempAddressLine1.trim()||(e.tempAddressLine1="Should be filled"),o.tempAddressLine2&&o.tempAddressLine2.trim()||(e.tempAddressLine2="Should be filled"),o.tempAddressLine3&&o.tempAddressLine3.trim()||(e.tempAddressLine3="Should be filled"),o.tempState&&o.tempState.trim()||(e.tempState="Should be filled"),o.permanentDistrict&&o.permanentDistrict.trim()||(e.permanentAddressLine1="Should be filled6"),o.permanentAddressLine1&&o.permanentAddressLine1.trim()||(e.permanentAddressLine1="Should be filled5"),o.permanentAddressLine2&&o.permanentAddressLine2.trim()||(e.permanentAddressLine2="Should be filled4"),o.permanentAddressLine3&&o.permanentAddressLine3.trim()||(e.permanentAddressLine3="Should be filled3"),o.permanentState&&o.permanentState.trim()||(e.permanentState="Should be filled2"),o.employeeName&&o.employeeName.trim()||(e.employeeName="Should be filled1"),u(e),0===Object.keys(e).length})()){console.log(o),console.log("selectedEmployee");let e=i().saveApiData;n((e=>e.map((e=>e.ppoNo===o.ppoNo?{...e,...o}:e))));const s={pensionerDetailsEntity:o};a.A.callEndPoint(e,s).then((e=>{console.log(e),"success"===e.message&&(x(!0),r(!1),b(0),v(" "),f(""),h({}),u({}),alert("Data updated Successfully"))}))}},noValidate:!0,validated:p,children:"Save Changes"})]})]})]})}},74319:(e,n,s)=>{s.r(n),s.d(n,{default:()=>a});s(65043);var t=s(72450),d=s(11238),r=s(93946),i=s(70579);const a=e=>{let{data:n,fileName:s}=e;return(0,i.jsx)(r.Q_,{onClick:()=>{const e=d.Wp.json_to_sheet(n),r=d.Wp.book_new();d.Wp.book_append_sheet(r,e,"Sheet1");const i=d.M9(r,{bookType:"xlsx",type:"array"}),a=new Blob([i],{type:"application/octet-stream"});(0,t.saveAs)(a,"".concat(s,".xlsx"))},color:"warning",className:"rounded m-2",children:"Export to Excel"})}}}]);
//# sourceMappingURL=469.c5db78ca.chunk.js.map