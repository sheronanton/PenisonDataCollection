(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[255,636],{52879:e=>{var s="/twad_data_collection/employees/",t={};t.OfficeList=s+"dcb/offices",t.LoginDetails=s+"user/authenticateUser",t.meterDetails=s+"metre",t.meterDetailsHT=s+"metres",t.schemesList=s+"schemes",t.beneficiaryName=s+"beneficiary",t.saveMapMetres=s+"saveMapMetres",t.getReport=s+"getReport",t.metreType=s+"metreType",t.districtDetails=s+"beneficiary/type",t.beneficiaryNameDetails=s+"beneficiary/byType",t.panchayat=s+"panchayat/dropdown",t.getAllMapMetresLt=s+"getAllMapMetresLt",t.getDistrictDetails=s+"beneficiary/district",t.getBeneficiaryNameDetails=s+"beneficiary/district/block",t.chagePasswordDetails=s+"user/initailResetPassword",t.SecondReport=s+"SecondReport",t.Breakup=s+"MetreType/Breakup",t.schemesWise=s+"Consumption/Schemewise",t.officeList=s+"scheme/office",t.getEDCDetails=s+"scheme/getDetaild",t.sendApiData=s+"scheme/sendApiData",t.getApiData=s+"getPensionerDetails",t.saveApiData=s+"savePensionerDetails",t.ListDBT=s+"WelfareDeptService/listDBT",t.BankVerify=s+"Bank/BankVerify",t.SaveGrievance=s+"Grievance/SaveGrievance",t.GetAadhaarStatusAbstract=s+"report/GetAadhaarStatusAbstract",t.GetAadhaarStatusDetailed=s+"report/GetAadhaarStatusDetailed",t.GetAadhaarStatusAbstractAllOffices=s+"report/GetAadhaarStatusAbstractAllOffices",e.exports=t},27871:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var a=t(65043),c=t(13204),r=t(93946),o=t(6145),n=t(96925),i=t(40632),l=t(73216),d=t(79456),m=t(7153),h=(t(47503),t(2574),t(36641),t(86312),t(81366)),u=t(52879),p=t.n(u),x=(t(69019),t(74714),t(28970));const f=t.p+"static/media/twad_logo.6068d3c7bdea7488c958.png";var g=t(70579);const N=()=>{const[e,s]=(0,a.useState)(""),[t,u]=(0,a.useState)(""),{state:N}=(0,l.zy)(),j=(0,d.wA)();let w=(0,l.Zp)();const[b,y]=(0,a.useState)(""),[v,_]=(0,a.useState)(""),[P,A]=(0,a.useState)(""),[T,S]=(0,a.useState)(""),[D,C]=(0,a.useState)(!1),[L,I]=(0,a.useState)(!1),[k,F]=(0,a.useState)(!1),[M,G]=(0,a.useState)(!1),[E,U]=(0,a.useState)(!0),B=(0,d.d4)((e=>e.twad));(0,a.useEffect)((()=>{}));return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"row bg-white",children:[(0,g.jsx)("div",{className:"col-md-2 py-3",children:(0,g.jsx)(r.t7,{className:"rounded mx-5",src:f,alt:"slide 3",width:145,height:145})}),(0,g.jsxs)("div",{className:"col-md-8 align-self-center ",children:[(0,g.jsx)("h1",{className:"text-center textColor",children:"Tamil Nadu Water Supply and Drainage Board (TWAD)"}),(0,g.jsx)("h2",{className:"text-center text-warning",children:"TWAD-Pension/FAMILY PENSION Details"})]})]}),(0,g.jsxs)("div",{className:"bgcolor",id:"bg-color",children:[E&&(0,g.jsx)(r.T5,{children:(0,g.jsx)(r.sK,{className:"justify-content-center mt-5",children:(0,g.jsx)(r.UF,{md:6,children:(0,g.jsx)(r.x$,{children:(0,g.jsx)(r.E$,{className:"p-4",children:(0,g.jsx)(r.W6,{children:(0,g.jsxs)(r.qI,{children:[(0,g.jsxs)("h2",{children:[N," Login"]}),(0,g.jsx)("p",{className:"text-medium-emphasis",children:"Sign In to your account"}),(0,g.jsxs)(r.BG,{className:"mb-3",children:[(0,g.jsx)(r.sk,{children:(0,g.jsx)(o.A,{icon:n.o})}),(0,g.jsx)(r.OG,{placeholder:"Username",autoComplete:"username",value:e,onChange:e=>s(e.target.value)})]}),(0,g.jsxs)(r.BG,{className:"mb-4",children:[(0,g.jsx)(r.sk,{children:(0,g.jsx)(o.A,{icon:i.q})}),(0,g.jsx)(r.OG,{type:"password",placeholder:"Password",autoComplete:"current-password",value:t,onChange:e=>u(e.target.value)})]}),(0,g.jsxs)(r.sK,{children:[(0,g.jsx)(r.UF,{xs:6,children:(0,g.jsx)(r.Q_,{className:"px-4 login_btn",onClick:s=>{((s,a)=>{const c={userName:e,userPassword:t};let r=p().LoginDetails,o=c;h.A.callEndPoint(r,o).then((e=>{const s=e.message;x.hm.success(s,"success"),0===e.user.isPasswordChanged?(console.log("hh"),G(!0),U(!1),x.hm.info("Change Password ")):w("/pension",{}),j((0,m.iD)({userName:e.user.userName,roleId:e.user.roleId,userPassword:e.user.userPassword,employeeName:e.user.employeeName,regionId:e.user.office.regionId,regionName:e.user.office.regionName,circleId:e.user.office.circleId,circleName:e.user.office.circleName,officeId:e.user.office.officeId,officeName:e.user.office.officeName,officeLevelId:e.user.office.officeLevelId,isPassword:e.user.isPasswordChanged}))})).catch((e=>{console.log(e,"error");const s=e.response.data.message;console.log(s,"errorMessage"),x.hm.error(s,"error")}))})()},children:"Login"})}),(0,g.jsx)(r.UF,{xs:6,className:"text-right",children:(0,g.jsx)(r.Q_,{color:"",className:"px-0 d-none",children:"Forgot password?"})})]})]})})})})})})}),M&&(0,g.jsx)(r.T5,{children:(0,g.jsx)(r.sK,{className:"justify-content-center mt-5",children:(0,g.jsx)(r.UF,{md:6,children:(0,g.jsx)(r.x$,{children:(0,g.jsx)(r.E$,{className:"p-4",children:(0,g.jsx)(r.W6,{children:(0,g.jsxs)(r.qI,{onSubmit:e=>{e.preventDefault(),v!==P?S("New passwords does not match"):(console.log("Old Password:",b),console.log("New Password:",v))},children:[(0,g.jsxs)("h2",{children:[N," Confirm password"]}),(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"oldPassword",className:"form-label",children:"Old Password:"}),(0,g.jsxs)("div",{className:"input-group",children:[(0,g.jsx)("input",{type:D?"text":"password",className:"form-control",id:"oldPassword",value:b,onChange:e=>{y(e.target.value),S("")}}),(0,g.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>{C(!D)},children:D?(0,g.jsx)(c.mx3,{}):(0,g.jsx)(c.Ny1,{})})]})]}),(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"newPassword",className:"form-label",children:"New Password:"}),(0,g.jsxs)("div",{className:"input-group",children:[(0,g.jsx)("input",{type:L?"text":"password",className:"form-control",id:"newPassword",value:v,onChange:e=>{_(e.target.value),S("")}}),(0,g.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>{I(!L)},children:L?(0,g.jsx)(c.mx3,{}):(0,g.jsx)(c.Ny1,{})})]})]}),(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"confirmNewPassword",className:"form-label",children:"Confirm New Password:"}),(0,g.jsxs)("div",{className:"input-group",children:[(0,g.jsx)("input",{type:k?"text":"password",className:"form-control",id:"confirmNewPassword",value:P,onChange:e=>{A(e.target.value),S("")}}),(0,g.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>{F(!k)},children:k?(0,g.jsx)(c.mx3,{}):(0,g.jsx)(c.Ny1,{})})]}),T&&(0,g.jsx)("div",{className:"invalid-feedback d-block",children:T})]}),(0,g.jsx)("div",{className:"mb-3",children:(0,g.jsx)("button",{type:"submit",className:"btn btn-primary col-12",onClick:e=>{if(!v||!P)return void S("Please fill in both New Password and Confirm New Password fields");if(v!==P)return void S("New passwords do not match");const s={userName:B.userName,oldPassword:b,userPassword:v};let t=p().chagePasswordDetails,a=s;h.A.callEndPoint(t,a).then((e=>{e.message&&(G(!1),U(!0),x.hm.success(e.message,"success"))})).catch((e=>{console.log(e.response.data.message,"erroree");const s=e.response.data.message;console.log(s,"errorMessage"),x.hm.error(s,"error")})),y(""),_(""),A("")},children:"Change Password"})})]})})})})})})}),(0,g.jsx)(x.bL,{})]})]})}},69019:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(65043),c=t(79456),r=t(93946),o=t(6145),n=t(82575),i=t(52879),l=t.n(i);t(86312);var d=t(70579);function m(){const[e,s]=(0,a.useState)({}),t=(0,c.d4)((e=>e.twad)),[i,m]=(0,a.useState)(!1),[h,u]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{u(!1)}),2e3);console.log("refress");const a=t.office.officeId||5e3,c=t.office.officeLevelId,r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({officeId:a,officeLevelId:c})};return fetch(l().meterDetails+"/status",r).then((e=>e.json())).then((e=>s(e))).catch((e=>console.error("Error fetching data:",e))),()=>clearTimeout(e)}),[]),(0,d.jsx)("div",{className:"container mt-4",children:h?(0,d.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,d.jsx)(r.JT,{color:"primary",variant:"grow"})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{className:"mt-4",children:"LT Connection"}),(0,d.jsxs)(r.sK,{className:"neumorphic-row",children:[(0,d.jsx)(r.UF,{xs:12,sm:6,md:4,children:(0,d.jsx)(r.Ng,{className:"mb-3 text-white neumorphic-card",color:"info",icon:(0,d.jsx)(o.A,{icon:n.N,height:24}),title:"No of LT Connections",value:e.reduce(((e,s)=>(("LT"===s.type_of_connection||"LT"===s.type_of_connection&&s.circle_id)&&(e+=s.total),e)),0)})}),(0,d.jsx)(r.UF,{xs:12,sm:6,md:4,children:(0,d.jsx)(r.Ng,{className:"mb-3 text-white neumorphic-card",color:"success",icon:(0,d.jsx)(o.A,{icon:n.N,height:24}),title:"Mapped",value:e.reduce(((e,s)=>(("LT"===s.type_of_connection||"LT"===s.type_of_connection&&s.circle_id)&&(e+=s.mapped),e)),0)})}),(0,d.jsx)(r.UF,{xs:12,sm:6,md:4,children:(0,d.jsx)(r.Ng,{className:"mb-3 text-white neumorphic-card",color:"danger",icon:(0,d.jsx)(o.A,{icon:n.N,height:24}),title:"Not Mapped",value:e.reduce(((e,s)=>(("LT"===s.type_of_connection||"LT"===s.type_of_connection&&s.circle_id)&&(e+=s.not_mapped),e)),0)})})]}),(0,d.jsx)("h3",{className:"mt-4",children:"HT Connection"}),(0,d.jsxs)(r.sK,{className:"neumorphic-row",children:[(0,d.jsx)(r.UF,{xs:12,sm:6,md:4,children:(0,d.jsx)(r.Ng,{className:"mb-3 text-white neumorphic-card",color:"info",icon:(0,d.jsx)(o.A,{icon:n.N,height:24}),title:"No of HT Connections",value:e.reduce(((e,s)=>(("HT"===s.type_of_connection||"HT"===s.type_of_connection&&s.circle_id)&&(e+=s.total),e)),0)})}),(0,d.jsx)(r.UF,{xs:12,sm:6,md:4,children:(0,d.jsx)(r.Ng,{className:"mb-3 text-white neumorphic-card",color:"success",icon:(0,d.jsx)(o.A,{icon:n.N,height:24}),title:"Mapped",value:e.reduce(((e,s)=>(("HT"===s.type_of_connection||"HT"===s.type_of_connection&&s.circle_id)&&(e+=s.mapped),e)),0)})}),(0,d.jsx)(r.UF,{xs:12,sm:6,md:4,children:(0,d.jsx)(r.Ng,{className:"mb-3 text-white neumorphic-card",color:"danger",icon:(0,d.jsx)(o.A,{icon:n.N,height:24}),title:"Not Mapped",value:e.reduce(((e,s)=>(("HT"===s.type_of_connection||"HT"===s.type_of_connection&&s.circle_id)&&(e+=s.not_mapped),e)),0)})})]})]})})}},81366:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(77154),c=t(22279),r={getJWT:async e=>{const s=(new TextEncoder).encode("cc7e0d44fd473002f1c42167459001140ec6389b7353f8088f4d9a95f2f596f2");return new Promise(((t,a)=>{const r=new c.Pl(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setIssuer("tnega:chris:issuer").setAudience("tnega:chris::audience").setExpirationTime("2h").sign(s);console.log(r),t(r)}))}};const o=r;var n={getJWT:e=>{},callEndPoint:(e,s,t)=>new Promise(((c,r)=>{if(console.log(t),void 0!==t){o.getJWT(s).then((s=>{console.log(s),a.A.post(e,{jwt:s}).then((e=>{c(e.data)})).catch((e=>{r(e)}))}))}else a.A.post(e,s).then((e=>{c(e.data)})).catch((e=>{r(e)}))}))};const i=n},36641:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var a={test:()=>{},store_login:e=>{},get_login:()=>{let e={};try{e=JSON.parse(localStorage.getItem("login"))}catch(s){e.message="error"}return e},remove_login:()=>{},clear:()=>{}};const c=a},86312:()=>{}}]);
//# sourceMappingURL=255.50fae9ba.chunk.js.map