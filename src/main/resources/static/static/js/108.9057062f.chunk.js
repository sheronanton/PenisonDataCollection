"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[108],{27871:(e,s,o)=>{o.r(s),o.d(s,{default:()=>N});var c=o(65043),n=o(13204),a=o(93946),t=o(3354),r=o(96925),i=o(40632),l=o(73216),d=o(79456),m=o(7153),h=(o(47503),o(92342),o(36641),o(84800),o(81366)),u=o(52879),x=o.n(u),p=(o(69019),o(77650),o(28970));const j=o.p+"static/media/twad_logo.6068d3c7bdea7488c958.png";var f=o(70579);const N=()=>{const[e,s]=(0,c.useState)(""),[o,u]=(0,c.useState)(""),{state:N}=(0,l.zy)(),g=(0,d.wA)();let w=(0,l.Zp)();const[y,_]=(0,c.useState)(""),[b,v]=(0,c.useState)(""),[P,C]=(0,c.useState)(""),[T,S]=(0,c.useState)(""),[I,L]=(0,c.useState)(!1),[F,A]=(0,c.useState)(!1),[k,U]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[H,M]=(0,c.useState)(!0),O=(0,d.d4)((e=>e.twad));(0,c.useEffect)((()=>{}));return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"row bg-white",children:[(0,f.jsx)("div",{className:"col-md-2 py-3",children:(0,f.jsx)(a.t7,{className:"rounded mx-5",src:j,alt:"slide 3",width:145,height:145})}),(0,f.jsxs)("div",{className:"col-md-8 align-self-center ",children:[(0,f.jsx)("h1",{className:"text-center textColor",children:"Tamil Nadu Water Supply and Drainage Board (TWAD)"}),(0,f.jsx)("h2",{className:"text-center text-warning",children:"TWAD-Pension/FAMILY PENSION Details"})]})]}),(0,f.jsxs)("div",{className:"bgcolor",id:"bg-color",children:[H&&(0,f.jsx)(a.T5,{children:(0,f.jsx)(a.sK,{className:"justify-content-center mt-5",children:(0,f.jsx)(a.UF,{md:6,children:(0,f.jsx)(a.x$,{children:(0,f.jsx)(a.E$,{className:"p-4",children:(0,f.jsx)(a.W6,{children:(0,f.jsxs)(a.qI,{children:[(0,f.jsxs)("h2",{children:[N," Login"]}),(0,f.jsx)("p",{className:"text-medium-emphasis",children:"Sign In to your account"}),(0,f.jsxs)(a.BG,{className:"mb-3",children:[(0,f.jsx)(a.sk,{children:(0,f.jsx)(t.Ay,{icon:r.o})}),(0,f.jsx)(a.OG,{placeholder:"Username",autoComplete:"username",value:e,onChange:e=>s(e.target.value)})]}),(0,f.jsxs)(a.BG,{className:"mb-4",children:[(0,f.jsx)(a.sk,{children:(0,f.jsx)(t.Ay,{icon:i.q})}),(0,f.jsx)(a.OG,{type:"password",placeholder:"Password",autoComplete:"current-password",value:o,onChange:e=>u(e.target.value)})]}),(0,f.jsxs)(a.sK,{children:[(0,f.jsx)(a.UF,{xs:6,children:(0,f.jsx)(a.Q_,{className:"px-4 login_btn",onClick:s=>{(()=>{const s={userName:e,userPassword:o};let c=x().LoginDetails,n=s;h.A.callEndPoint(c,n).then((e=>{const s=e.message;p.hm.success(s,"success"),0===e.user.isPasswordChanged?(console.log("hh"),E(!0),M(!1),p.hm.info("Change Password ")):w("/pension",{}),g((0,m.iD)({userName:e.user.userName,roleId:e.user.roleId,userPassword:e.user.userPassword,employeeName:e.user.employeeName,regionId:e.user.office.regionId,regionName:e.user.office.regionName,circleId:e.user.office.circleId,circleName:e.user.office.circleName,officeId:e.user.office.officeId,officeName:e.user.office.officeName,officeLevelId:e.user.office.officeLevelId,isPassword:e.user.isPasswordChanged}))})).catch((e=>{console.log(e,"error");const s=e.response.data.message;console.log(s,"errorMessage"),p.hm.error(s,"error")}))})()},children:"Login"})}),(0,f.jsx)(a.UF,{xs:6,className:"text-right",children:(0,f.jsx)(a.Q_,{color:"",className:"px-0 d-none",children:"Forgot password?"})})]})]})})})})})})}),D&&(0,f.jsx)(a.T5,{children:(0,f.jsx)(a.sK,{className:"justify-content-center mt-5",children:(0,f.jsx)(a.UF,{md:6,children:(0,f.jsx)(a.x$,{children:(0,f.jsx)(a.E$,{className:"p-4",children:(0,f.jsx)(a.W6,{children:(0,f.jsxs)(a.qI,{onSubmit:e=>{e.preventDefault(),b!==P?S("New passwords does not match"):(console.log("Old Password:",y),console.log("New Password:",b))},children:[(0,f.jsxs)("h2",{children:[N," Confirm password"]}),(0,f.jsxs)("div",{className:"mb-3",children:[(0,f.jsx)("label",{htmlFor:"oldPassword",className:"form-label",children:"Old Password:"}),(0,f.jsxs)("div",{className:"input-group",children:[(0,f.jsx)("input",{type:I?"text":"password",className:"form-control",id:"oldPassword",value:y,onChange:e=>{_(e.target.value),S("")}}),(0,f.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>{L(!I)},children:I?(0,f.jsx)(n.mx3,{}):(0,f.jsx)(n.Ny1,{})})]})]}),(0,f.jsxs)("div",{className:"mb-3",children:[(0,f.jsx)("label",{htmlFor:"newPassword",className:"form-label",children:"New Password:"}),(0,f.jsxs)("div",{className:"input-group",children:[(0,f.jsx)("input",{type:F?"text":"password",className:"form-control",id:"newPassword",value:b,onChange:e=>{v(e.target.value),S("")}}),(0,f.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>{A(!F)},children:F?(0,f.jsx)(n.mx3,{}):(0,f.jsx)(n.Ny1,{})})]})]}),(0,f.jsxs)("div",{className:"mb-3",children:[(0,f.jsx)("label",{htmlFor:"confirmNewPassword",className:"form-label",children:"Confirm New Password:"}),(0,f.jsxs)("div",{className:"input-group",children:[(0,f.jsx)("input",{type:k?"text":"password",className:"form-control",id:"confirmNewPassword",value:P,onChange:e=>{C(e.target.value),S("")}}),(0,f.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>{U(!k)},children:k?(0,f.jsx)(n.mx3,{}):(0,f.jsx)(n.Ny1,{})})]}),T&&(0,f.jsx)("div",{className:"invalid-feedback d-block",children:T})]}),(0,f.jsx)("div",{className:"mb-3",children:(0,f.jsx)("button",{type:"submit",className:"btn btn-primary col-12",onClick:e=>{if(!b||!P)return void S("Please fill in both New Password and Confirm New Password fields");if(b!==P)return void S("New passwords do not match");const s={userName:O.userName,oldPassword:y,userPassword:b};let o=x().chagePasswordDetails,c=s;h.A.callEndPoint(o,c).then((e=>{e.message&&(E(!1),M(!0),p.hm.success(e.message,"success"))})).catch((e=>{console.log(e.response.data.message,"erroree");const s=e.response.data.message;console.log(s,"errorMessage"),p.hm.error(s,"error")})),_(""),v(""),C("")},children:"Change Password"})})]})})})})})})}),(0,f.jsx)(p.bL,{})]})]})}},69019:(e,s,o)=>{o.r(s),o.d(s,{default:()=>m});var c=o(65043),n=o(79456),a=o(93946),t=o(3354),r=o(82575),i=o(52879),l=o.n(i);o(84800);var d=o(70579);function m(){const[e,s]=(0,c.useState)({}),o=(0,n.d4)((e=>e.twad)),[i,m]=(0,c.useState)(!1),[h,u]=(0,c.useState)(!0);return(0,c.useEffect)((()=>{const e=setTimeout((()=>{u(!1)}),2e3);console.log("refress");const c=o.office.officeId||5e3,n=o.office.officeLevelId,a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({officeId:c,officeLevelId:n})};return fetch(l().meterDetails+"/status",a).then((e=>e.json())).then((e=>s(e))).catch((e=>console.error("Error fetching data:",e))),()=>clearTimeout(e)}),[]),(0,d.jsx)("div",{className:"container mt-4",children:h?(0,d.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,d.jsx)(a.JT,{color:"primary",variant:"grow"})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{className:"mt-4",children:"LT Connection"}),(0,d.jsxs)(a.sK,{className:"neumorphic-row",children:[(0,d.jsx)(a.UF,{xs:12,sm:6,md:4,children:(0,d.jsx)(a.Ng,{className:"mb-3 text-white neumorphic-card",color:"info",icon:(0,d.jsx)(t.Ay,{icon:r.N,height:24}),title:"No of LT Connections",value:e.reduce(((e,s)=>(("LT"===s.type_of_connection||"LT"===s.type_of_connection&&s.circle_id)&&(e+=s.total),e)),0)})}),(0,d.jsx)(a.UF,{xs:12,sm:6,md:4,children:(0,d.jsx)(a.Ng,{className:"mb-3 text-white neumorphic-card",color:"success",icon:(0,d.jsx)(t.Ay,{icon:r.N,height:24}),title:"Mapped",value:e.reduce(((e,s)=>(("LT"===s.type_of_connection||"LT"===s.type_of_connection&&s.circle_id)&&(e+=s.mapped),e)),0)})}),(0,d.jsx)(a.UF,{xs:12,sm:6,md:4,children:(0,d.jsx)(a.Ng,{className:"mb-3 text-white neumorphic-card",color:"danger",icon:(0,d.jsx)(t.Ay,{icon:r.N,height:24}),title:"Not Mapped",value:e.reduce(((e,s)=>(("LT"===s.type_of_connection||"LT"===s.type_of_connection&&s.circle_id)&&(e+=s.not_mapped),e)),0)})})]}),(0,d.jsx)("h3",{className:"mt-4",children:"HT Connection"}),(0,d.jsxs)(a.sK,{className:"neumorphic-row",children:[(0,d.jsx)(a.UF,{xs:12,sm:6,md:4,children:(0,d.jsx)(a.Ng,{className:"mb-3 text-white neumorphic-card",color:"info",icon:(0,d.jsx)(t.Ay,{icon:r.N,height:24}),title:"No of HT Connections",value:e.reduce(((e,s)=>(("HT"===s.type_of_connection||"HT"===s.type_of_connection&&s.circle_id)&&(e+=s.total),e)),0)})}),(0,d.jsx)(a.UF,{xs:12,sm:6,md:4,children:(0,d.jsx)(a.Ng,{className:"mb-3 text-white neumorphic-card",color:"success",icon:(0,d.jsx)(t.Ay,{icon:r.N,height:24}),title:"Mapped",value:e.reduce(((e,s)=>(("HT"===s.type_of_connection||"HT"===s.type_of_connection&&s.circle_id)&&(e+=s.mapped),e)),0)})}),(0,d.jsx)(a.UF,{xs:12,sm:6,md:4,children:(0,d.jsx)(a.Ng,{className:"mb-3 text-white neumorphic-card",color:"danger",icon:(0,d.jsx)(t.Ay,{icon:r.N,height:24}),title:"Not Mapped",value:e.reduce(((e,s)=>(("HT"===s.type_of_connection||"HT"===s.type_of_connection&&s.circle_id)&&(e+=s.not_mapped),e)),0)})})]})]})})}}}]);
//# sourceMappingURL=108.9057062f.chunk.js.map